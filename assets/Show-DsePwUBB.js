import{r as u,cv as w,cw as B,cx as v,j as o,Y as R}from"./app-CV9A9Knv.js";import{A as F}from"./AuthenticatedLayout-lCtMtmb_.js";import{B as L}from"./BookList-CMt_nM24.js";import{c as p,d as C,e as U,P as W,T as A}from"./FooterLayout-DlX_7gvg.js";import{U as E}from"./UserProfileHeader-BZ5b7E7T.js";import{F as N}from"./ApplicationLogo-CrVoc7yY.js";import{F as S}from"./index-ceaKtghh.js";import"./index-Crwc0KU0.js";import"./PlusOutlined-BID3IEi_.js";import"./index-HJuJD2XC.js";import"./EyeOutlined-B5K90arK.js";import"./addEventListener-B42ZgBRq.js";import"./tslib.es6-Ci87BIFz.js";import"./index-B_DJ0CFZ.js";import"./index-e1fbKeth.js";import"./DeleteOutlined-DCvoU7na.js";import"./index-CGHJpXRw.js";import"./scrollTo-DwBBsVjo.js";const T=({userId:r})=>{const l=p(s=>{var e,t;return(t=(e=s.writerReducer.keys)==null?void 0:e[r])==null?void 0:t.isFetch}),n=p(s=>{var e,t;return(t=(e=s.writerReducer.keys)==null?void 0:e[r])==null?void 0:t.isLoading}),x=p(s=>{var e,t;return(t=(e=s.writerReducer.keys)==null?void 0:e[r])==null?void 0:t.error}),a=p(s=>{var e,t;return(t=(e=s.writerReducer.keys)==null?void 0:e[r])==null?void 0:t.pagination}),i=p(s=>{var e,t,d;return(d=(t=(e=s.writerReducer.keys)==null?void 0:e[r])==null?void 0:t.pagination)==null?void 0:d.page}),c=p(s=>{var e,t;return(t=(e=s.writerReducer.keys)==null?void 0:e[r])==null?void 0:t.pages}),m=C(),g=U(i),h=g!==i&&g!==void 0,P=!(c!=null&&c[i]);u.useEffect(()=>{m(w({userId:r}))},[]),u.useEffect(()=>{l===!1?f({page:i,userId:r}):h&&P&&l&&f({page:i,userId:r})},[i,r]);const y=u.useCallback(s=>{m(B({page:s,userId:r}))},[]),f=async s=>await m(v(s)),j=(c==null?void 0:c[a==null?void 0:a.page])||[],k=(a==null?void 0:a.lastPage)||1;return{list:j,lastPage:k,pagination:a,page:i,isFetch:l,isLoading:n,error:x,refetch:f,setWriterPage:y}},{Title:D}=A;function te(r){const{user:l}=r,{pagination:n,page:x,list:a,isLoading:i,setWriterPage:c}=T({userId:l.id}),m=g=>{c(g)};return o.jsxs(F,{children:[o.jsx(R,{title:"Book List"}),o.jsx(E,{user:l}),o.jsx("div",{className:"py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 px-2",children:[o.jsx(D,{level:3,children:"Projects"}),o.jsx(N,{justify:"end",gap:"small",className:"my-4",children:n!=null&&n.total?o.jsx(W,{current:x,onChange:m,total:n.total,defaultPageSize:n.pageSize,align:"end"}):null}),o.jsx(L,{isLoading:i,list:a}),o.jsx(S.BackTop,{})]})})]})}export{te as default};
