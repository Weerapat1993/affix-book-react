import{r as x,ct as w,cu as B,cv as v,j as o,Y as C}from"./app-c0J2B4Ql.js";import{A as R}from"./AuthenticatedLayout-Bfr6iSeh.js";import{B as F}from"./BookList-DePZDCEd.js";import{l as p,m as L,n as U,P as W,T as A}from"./FooterLayout-CVWs-C_W.js";import{U as E}from"./UserProfileHeader-kc3dh3nA.js";import{F as N}from"./ApplicationLogo-D1BYlDnj.js";import{C as S}from"./index-bR8CqCq2.js";import{F as T}from"./index-CSBTWC4m.js";/* empty css            */import"./x-C_LPEpna.js";import"./laravelBlade-DnAXOTAM.js";import"./index-DUkPbCi7.js";import"./EyeOutlined-CCTf8tnR.js";import"./addEventListener--qcJR7Ko.js";import"./tslib.es6-D5k8Tp1K.js";import"./index-BR9FQGB2.js";import"./index-UEiegrOJ.js";import"./DeleteOutlined-DEf8AuyW.js";import"./PlusOutlined-CbCWjMrA.js";import"./scrollTo-CcAuJv0K.js";const D=({userId:r})=>{const l=p(s=>{var t,e;return(e=(t=s.writerReducer.keys)==null?void 0:t[r])==null?void 0:e.isFetch}),n=p(s=>{var t,e;return(e=(t=s.writerReducer.keys)==null?void 0:t[r])==null?void 0:e.isLoading}),f=p(s=>{var t,e;return(e=(t=s.writerReducer.keys)==null?void 0:t[r])==null?void 0:e.error}),a=p(s=>{var t,e;return(e=(t=s.writerReducer.keys)==null?void 0:t[r])==null?void 0:e.pagination}),i=p(s=>{var t,e,d;return(d=(e=(t=s.writerReducer.keys)==null?void 0:t[r])==null?void 0:e.pagination)==null?void 0:d.page}),c=p(s=>{var t,e;return(e=(t=s.writerReducer.keys)==null?void 0:t[r])==null?void 0:e.pages}),m=L(),g=U(i),h=g!==i&&g!==void 0,P=!(c!=null&&c[i]);x.useEffect(()=>{m(w({userId:r}))},[]),x.useEffect(()=>{l===!1?u({page:i,userId:r}):h&&P&&l&&u({page:i,userId:r})},[i,r]);const j=x.useCallback(s=>{m(B({page:s,userId:r}))},[]),u=async s=>await m(v(s)),y=(c==null?void 0:c[a==null?void 0:a.page])||[],k=(a==null?void 0:a.lastPage)||1;return{list:y,lastPage:k,pagination:a,page:i,isFetch:l,isLoading:n,error:f,refetch:u,setWriterPage:j}},{Title:b}=A;function ot(r){const{user:l}=r,{pagination:n,page:f,list:a,isLoading:i,setWriterPage:c}=D({userId:l.id}),m=g=>{c(g)};return o.jsxs(R,{children:[o.jsx(C,{title:"Book List"}),o.jsx(E,{user:l}),o.jsx("div",{className:"py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 px-2",children:[o.jsx(b,{level:3,children:"Projects"}),o.jsx(N,{justify:"end",gap:"small",className:"my-4",children:n!=null&&n.total?o.jsx(W,{current:f,onChange:m,total:n.total,defaultPageSize:n.pageSize,align:"end"}):null}),o.jsx(S,{children:o.jsx(F,{isLoading:i,list:a})}),o.jsx(T.BackTop,{})]})})]})}export{ot as default};
