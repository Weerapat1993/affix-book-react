import{r as h,j as g}from"./app-DV9NRXND.js";import{e as y}from"./ApplicationLogo-BttutHq_.js";import{p as v}from"./index-BKNjMPK8.js";var p={},u={};/*!
 * html-attributes
 * https://github.com/alexmingoia/html-attributes
 */var b={abbr:"abbr",accept:"accept",acceptCharset:"accept-charset",accessKey:"accesskey",action:"action",allowFullScreen:"allowfullscreen",allowTransparency:"allowtransparency",alt:"alt",async:"async",autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",cellPadding:"cellpadding",cellSpacing:"cellspacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite",class:"class",className:"class",cols:"cols",colSpan:"colspan",command:"command",content:"content",contentEditable:"contenteditable",contextMenu:"contextmenu",controls:"controls",coords:"coords",crossOrigin:"crossorigin",data:"data",dateTime:"datetime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",encType:"enctype",for:"for",form:"form",formAction:"formaction",formEncType:"formenctype",formMethod:"formmethod",formNoValidate:"formnovalidate",formTarget:"formtarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hrefLang:"hreflang",htmlFor:"for",httpEquiv:"http-equiv",icon:"icon",id:"id",inputMode:"inputmode",isMap:"ismap",itemId:"itemid",itemProp:"itemprop",itemRef:"itemref",itemScope:"itemscope",itemType:"itemtype",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxLength:"maxlength",media:"media",mediaGroup:"mediagroup",method:"method",min:"min",minLength:"minlength",multiple:"multiple",muted:"muted",name:"name",noValidate:"novalidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radioGroup:"radiogroup",readOnly:"readonly",rel:"rel",required:"required",role:"role",rows:"rows",rowSpan:"rowspan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellCheck:"spellcheck",src:"src",srcDoc:"srcdoc",srcSet:"srcset",start:"start",step:"step",style:"style",tabIndex:"tabindex",target:"target",title:"title",translate:"translate",type:"type",typeMustMatch:"typemustmatch",useMap:"usemap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"};Object.defineProperty(u,"__esModule",{value:!0});u.default=k;var I=b,_=w(I);function w(e){return e&&e.__esModule?e:{default:e}}var T={onCopy:!0,onCut:!0,onPaste:!0,onLoad:!0,onError:!0,onWheel:!0,onScroll:!0,onCompositionEnd:!0,onCompositionStart:!0,onCompositionUpdate:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onFocus:!0,onBlur:!0,onChange:!0,onInput:!0,onSubmit:!0,onClick:!0,onContextMenu:!0,onDoubleClick:!0,onDrag:!0,onDragEnd:!0,onDragEnter:!0,onDragExit:!0,onDragLeave:!0,onDragOver:!0,onDragStart:!0,onDrop:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOut:!0,onMouseOver:!0,onMouseUp:!0,onSelect:!0,onTouchCancel:!0,onTouchEnd:!0,onTouchMove:!0,onTouchStart:!0,onAnimationStart:!0,onAnimationEnd:!0,onAnimationIteration:!0,onTransitionEnd:!0};function S(e){return T[e]||_.default[e]}function k(e){var t={};for(var o in e)e.hasOwnProperty(o)&&S(o)&&(t[o]=e[o]);return t}Object.defineProperty(p,"__esModule",{value:!0});var D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},M=function(){function e(t,o){for(var a=0;a<o.length;a++){var r=o[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),O=v,i=c(O),m=h,E=c(m),P=u,x=c(P);function c(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function A(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){A(t,e);function t(o){L(this,t);var a=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return a.state={imageSource:null},a.setDisplayImage=a.setDisplayImage.bind(a),a.handleInitialTimeout=a.handleInitialTimeout.bind(a),a.isLoaded=!1,a}return M(t,[{key:"handleInitialTimeout",value:function(){var a=this;this.props.initialTimeout&&this.props.initialTimeout>0?setTimeout(function(){a.isLoaded||a.setState({imageSource:a.props.initialImage})},this.props.initialTimeout):this.setState({imageSource:this.props.initialImage})}},{key:"componentDidMount",value:function(){this.handleInitialTimeout(),this.displayImage=new window.Image,this.setDisplayImage({image:this.props.src,fallbacks:this.props.fallbackImage})}},{key:"componentWillReceiveProps",value:function(a){a.src!==this.props.src&&(this.isLoaded=!1,a.initialImage&&this.handleInitialTimeout(),this.setDisplayImage({image:a.src,fallbacks:a.fallbackImage}))}},{key:"componentWillUnmount",value:function(){this.displayImage&&(this.displayImage.onerror=null,this.displayImage.onload=null,this.displayImage=null)}},{key:"setDisplayImage",value:function(a){var r=this,d=a.image,f=a.fallbacks,n=[d].concat(f).filter(function(s){return!!s});this.displayImage.onerror=function(){if(n.length>2&&typeof n[1]=="string"){var s=n.slice(2);r.setDisplayImage({image:n[1],fallbacks:s});return}r.isLoaded=!0,r.setState({imageSource:n[1]||null},function(){r.props.onError&&r.props.onError(r.props.src)})},this.displayImage.onload=function(){r.isLoaded=!0,r.setState({imageSource:n[0]},function(){r.props.onLoad&&r.props.onLoad(n[0])})},typeof n[0]=="string"?this.displayImage.src=n[0]:this.setState({imageSource:n[0]},function(){r.props.onLoad&&r.props.onLoad(n[0])})}},{key:"render",value:function(){return typeof this.state.imageSource=="string"?E.default.createElement("img",D({},(0,x.default)(this.props),{src:this.state.imageSource})):this.state.imageSource}}]),t}(m.Component),j=p.default=l;l.displayName="ReactImageFallback";l.propTypes={src:i.default.string,fallbackImage:i.default.oneOfType([i.default.string,i.default.element,i.default.array]).isRequired,initialImage:i.default.oneOfType([i.default.string,i.default.element]),onLoad:i.default.func,onError:i.default.func,initialTimeout:i.default.number};l.defaultProps={initialImage:null};const q=e=>g.jsx(j,{fallbackImage:y,...e}),U=q;export{U as I};
