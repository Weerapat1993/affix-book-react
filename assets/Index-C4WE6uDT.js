import{r as o,j as e,q as Ae,W as De,aU as Ce,a6 as Pe,aV as Se,aW as ke,aC as D,Y as Re}from"./app-DV9NRXND.js";import{c as k,a as p,d as M,u as R,f as I,j as Te,h as _e,k as Ee,P as z,A as Oe}from"./AuthenticatedLayout-BH7Oq1bE.js";import{C as Me,a as Ie,b as ze,c as Be}from"./card-Bm05RnMj.js";import{I as $e}from"./image-DcQEKmXL.js";import{c as B,b as Le,O as He,W as Fe,C as We,T as qe,D as Ve,a as $,P as Ue,R as Ge,d as L,L as T,B as C}from"./index-CcBPE812.js";import{n as Ye,l as E,m as Ke}from"./FooterLayout-BQyBW5O-.js";import{n as Xe}from"./math-BRiXLSU_.js";import{a as Je}from"./ApplicationLogo-BttutHq_.js";import{I as Qe}from"./InertiaPagiantion-DhzdUTXV.js";/* empty css            */import"./index-BKNjMPK8.js";import"./index-C4mrzbrJ.js";import"./tslib.es6-D5k8Tp1K.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=k("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=k("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=k("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),H=o.forwardRef(({className:t,...a},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:p("w-full caption-bottom text-sm",t),...a})}));H.displayName="Table";const F=o.forwardRef(({className:t,...a},s)=>e.jsx("thead",{ref:s,className:p("[&_tr]:border-b",t),...a}));F.displayName="TableHeader";const W=o.forwardRef(({className:t,...a},s)=>e.jsx("tbody",{ref:s,className:p("[&_tr:last-child]:border-0",t),...a}));W.displayName="TableBody";const tt=o.forwardRef(({className:t,...a},s)=>e.jsx("tfoot",{ref:s,className:p("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a}));tt.displayName="TableFooter";const S=o.forwardRef(({className:t,...a},s)=>e.jsx("tr",{ref:s,className:p("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a}));S.displayName="TableRow";const g=o.forwardRef(({className:t,...a},s)=>e.jsx("th",{ref:s,className:p("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a}));g.displayName="TableHead";const b=o.forwardRef(({className:t,...a},s)=>e.jsx("td",{ref:s,className:p("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));b.displayName="TableCell";const at=o.forwardRef(({className:t,...a},s)=>e.jsx("caption",{ref:s,className:p("mt-4 text-sm text-muted-foreground",t),...a}));at.displayName="TableCaption";var q="AlertDialog",[st,Wt]=M(q,[B]),x=B(),V=t=>{const{__scopeAlertDialog:a,...s}=t,r=x(a);return e.jsx(Ge,{...r,...s,modal:!0})};V.displayName=q;var rt="AlertDialogTrigger",U=o.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,n=x(s);return e.jsx(Le,{...n,...r,ref:a})});U.displayName=rt;var ot="AlertDialogPortal",G=t=>{const{__scopeAlertDialog:a,...s}=t,r=x(a);return e.jsx(Ue,{...r,...s})};G.displayName=ot;var it="AlertDialogOverlay",Y=o.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,n=x(s);return e.jsx(He,{...n,...r,ref:a})});Y.displayName=it;var j="AlertDialogContent",[nt,lt]=st(j),K=o.forwardRef((t,a)=>{const{__scopeAlertDialog:s,children:r,...n}=t,d=x(s),i=o.useRef(null),l=R(a,i),u=o.useRef(null);return e.jsx(Fe,{contentName:j,titleName:X,docsSlug:"alert-dialog",children:e.jsx(nt,{scope:s,cancelRef:u,children:e.jsxs(We,{role:"alertdialog",...d,...n,ref:l,onOpenAutoFocus:I(n.onOpenAutoFocus,m=>{var h;m.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[e.jsx(Te,{children:r}),e.jsx(dt,{contentRef:i})]})})})});K.displayName=j;var X="AlertDialogTitle",J=o.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,n=x(s);return e.jsx(qe,{...n,...r,ref:a})});J.displayName=X;var Q="AlertDialogDescription",Z=o.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,n=x(s);return e.jsx(Ve,{...n,...r,ref:a})});Z.displayName=Q;var ct="AlertDialogAction",ee=o.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,n=x(s);return e.jsx($,{...n,...r,ref:a})});ee.displayName=ct;var te="AlertDialogCancel",ae=o.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,{cancelRef:n}=lt(te,s),d=x(s),i=R(a,n);return e.jsx($,{...d,...r,ref:i})});ae.displayName=te;var dt=({contentRef:t})=>{const a=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${Q}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},ut=V,pt=U,mt=G,se=Y,re=K,oe=ee,ie=ae,ne=J,le=Z;const ht=ut,ft=pt,xt=mt,ce=o.forwardRef(({className:t,...a},s)=>e.jsx(se,{className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));ce.displayName=se.displayName;const de=o.forwardRef(({className:t,...a},s)=>e.jsxs(xt,{children:[e.jsx(ce,{}),e.jsx(re,{ref:s,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));de.displayName=re.displayName;const ue=({className:t,...a})=>e.jsx("div",{className:p("flex flex-col space-y-2 text-center sm:text-left",t),...a});ue.displayName="AlertDialogHeader";const pe=({className:t,...a})=>e.jsx("div",{className:p("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});pe.displayName="AlertDialogFooter";const me=o.forwardRef(({className:t,...a},s)=>e.jsx(ne,{ref:s,className:p("text-lg font-semibold",t),...a}));me.displayName=ne.displayName;const he=o.forwardRef(({className:t,...a},s)=>e.jsx(le,{ref:s,className:p("text-sm text-muted-foreground",t),...a}));he.displayName=le.displayName;const fe=o.forwardRef(({className:t,...a},s)=>e.jsx(oe,{ref:s,className:p(L(),t),...a}));fe.displayName=oe.displayName;const xe=o.forwardRef(({className:t,...a},s)=>e.jsx(ie,{ref:s,className:p(L({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));xe.displayName=ie.displayName;const gt={onSubmit:()=>null,renderButton:()=>null,title:"Title",description:"",children:null,loading:!1,okTitle:"OK",customOkButton:null};function bt(t){const[a,s]=Ae.useState(!1),{renderButton:r,title:n,description:d,onSubmit:i,loading:l,okTitle:u,customOkButton:m}={...gt,...t},h=o.useMemo(()=>r(),[]),f=Ye(l),c=async y=>{y.preventDefault(),await i()};return o.useEffect(()=>{f&&!l&&s(!1)},[l]),e.jsxs(ht,{open:a,onOpenChange:s,children:[e.jsx(ft,{asChild:!0,children:h}),e.jsxs(de,{children:[e.jsxs(ue,{children:[e.jsx(me,{children:n}),d&&e.jsx(he,{children:d})]}),e.jsxs(pe,{children:[e.jsx(xe,{children:"Cancel"}),m||e.jsx(fe,{onClick:c,children:l?e.jsx(T,{className:"w-4 h-4 animate-spin"}):u})]})]})]})}const vt=({isLoading:t,children:a,className:s})=>e.jsxs("div",{className:`relative ${s} ${t?"bg-secondary opacity-20":""}`,children:[a,t?e.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2",children:e.jsx(T,{className:"animate-spin"})}):null]});function jt(t){const a=o.useRef({value:t,previous:t});return o.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}function yt(t){const[a,s]=o.useState(void 0);return _e(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const d=n[0];let i,l;if("borderBoxSize"in d){const u=d.borderBoxSize,m=Array.isArray(u)?u[0]:u;i=m.inlineSize,l=m.blockSize}else i=t.offsetWidth,l=t.offsetHeight;s({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),a}var _="Switch",[Nt,qt]=M(_),[wt,At]=Nt(_),ge=o.forwardRef((t,a)=>{const{__scopeSwitch:s,name:r,checked:n,defaultChecked:d,required:i,disabled:l,value:u="on",onCheckedChange:m,...h}=t,[f,c]=o.useState(null),y=R(a,A=>c(A)),N=o.useRef(!1),w=f?!!f.closest("form"):!0,[v=!1,P]=Ee({prop:n,defaultProp:d,onChange:m});return e.jsxs(wt,{scope:s,checked:v,disabled:l,children:[e.jsx(z.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":je(v),"data-disabled":l?"":void 0,disabled:l,value:u,...h,ref:y,onClick:I(t.onClick,A=>{P(we=>!we),w&&(N.current=A.isPropagationStopped(),N.current||A.stopPropagation())})}),w&&e.jsx(Dt,{control:f,bubbles:!N.current,name:r,value:u,checked:v,required:i,disabled:l,style:{transform:"translateX(-100%)"}})]})});ge.displayName=_;var be="SwitchThumb",ve=o.forwardRef((t,a)=>{const{__scopeSwitch:s,...r}=t,n=At(be,s);return e.jsx(z.span,{"data-state":je(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:a})});ve.displayName=be;var Dt=t=>{const{control:a,checked:s,bubbles:r=!0,...n}=t,d=o.useRef(null),i=jt(s),l=yt(a);return o.useEffect(()=>{const u=d.current,m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(i!==s&&f){const c=new Event("click",{bubbles:r});f.call(u,s),u.dispatchEvent(c)}},[i,s,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:d,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function je(t){return t?"checked":"unchecked"}var ye=ge,Ct=ve;const Ne=o.forwardRef(({className:t,...a},s)=>e.jsx(ye,{className:p("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:e.jsx(Ct,{className:p("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ne.displayName=ye.displayName;const Pt=t=>{const a=E(c=>c.productReducer.keys),s=E(c=>c.productReducer.listIds),r=Ke(),{delete:n}=De(),[d,i]=o.useState(!1);o.useEffect(()=>{m(t)},[]);const l=c=>{n(route("admin.products.destroy",c),{onStart:()=>i(!0),onSuccess:()=>h(c),onFinish:()=>i(!1)})},u=async(c,y)=>{var w;const N=y?"Published":"Draft";try{const P=(w=(await Pe({method:"patch",url:route("admin.products.update.status",c.id),data:{status:N}})).data)==null?void 0:w.data;r(Se(P))}catch(v){console.error(v)}},m=c=>{r(Ce(c))},h=c=>{r(ke(c))};return{list:s.map(c=>a[c]),isLoading:d,handleChangeStatus:u,handleDelete:l}},St=t=>{const{list:a}=t,{isLoading:s,list:r,handleChangeStatus:n,handleDelete:d}=Pt(a);return e.jsx(vt,{isLoading:s,children:e.jsxs(H,{children:[e.jsx(F,{children:e.jsxs(S,{children:[e.jsx(g,{className:"w-[60px]",children:"ID"}),e.jsx(g,{className:"w-[80px]",children:"Image"}),e.jsx(g,{className:"w-[120px]",children:"SKU"}),e.jsx(g,{children:"Name"}),e.jsx(g,{className:"w-[120px]",children:"Price"}),e.jsx(g,{className:"w-[60px]",children:"Publish"}),e.jsx(g,{className:"w-[120px]",children:"Actions"})]})}),e.jsx(W,{children:r.map(i=>{const l=(i.img_url||"").includes("http")?i.img_url:Je(`storage/${i.img_url}`);return e.jsxs(S,{children:[e.jsx(b,{children:i.id}),e.jsx(b,{children:e.jsx(D,{href:route("products.slug.show",i.slug),children:e.jsx($e,{className:"object-cover",src:l,alt:i.name,width:60,height:60})})}),e.jsx(b,{children:i.sku}),e.jsx(b,{children:e.jsx(D,{className:"underline",href:route("admin.products.show",i.id),children:i.name})}),e.jsx(b,{className:"text-red-600 font-bold",children:Xe(i.price)}),e.jsx(b,{children:e.jsx(Ne,{checked:i.status==="Published",onCheckedChange:u=>n(i,u)})}),e.jsx(b,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(D,{href:route("admin.products.edit",i.id),children:e.jsx(C,{size:"sm",children:e.jsx(et,{className:"w-4 h-4"})})}),e.jsx(bt,{loading:s,title:"Delete Product",description:"Are you sure you want to delete this product?",customOkButton:e.jsxs(C,{variant:"destructive",onClick:()=>d(i.id),children:[s?e.jsx(T,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(O,{className:"h-4 w-4 mr-2"}),"Delete"]}),renderButton:()=>e.jsx(C,{size:"sm",variant:"destructive",children:e.jsx(O,{className:"h-4 w-4"})})})]})})]},i.id)})})]})})},kt=St;function Vt({auth:t,products:a}){const s=[{key:1,title:"Home",href:route("home")},{key:2,title:"Products",href:route("admin.products.index"),isLast:!0}];return e.jsxs(Oe,{breadcrumbs:s,children:[e.jsx(Re,{title:"Product List"}),e.jsx("div",{className:"pb-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(Me,{className:"my-4",children:[e.jsx(Ie,{children:e.jsxs(ze,{children:["Product List",e.jsx("div",{className:"float-right",children:e.jsx(D,{href:route("admin.products.create"),children:e.jsxs(C,{size:"sm",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Create"]})})})]})}),e.jsxs(Be,{children:[e.jsx(Qe,{url:route("admin.products.index"),paginateData:a,defaultPage:a.current_page}),e.jsx(kt,{list:a.data||[]})]})]})})})]})}export{Vt as default};
