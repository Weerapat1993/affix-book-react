import{W as I,r as f,aX as L,a6 as T,aY as S,aZ as A,j as s,aC as n,Y as D}from"./app-BFpxoxyw.js";import{A as B}from"./AuthenticatedLayout-DSw-8pht.js";import{C as M,a as H,b as R,c as z}from"./card-CDf0b-4U.js";import{L as _,T as E,a as q,b as g,c as i,d as U,e as c,S as W,A as Y,f as P}from"./switch-DdI1YFbV.js";import{I as $}from"./image-NCajjHFz.js";import{B as o,L as F}from"./index-aLA-5jOt.js";import{n as K}from"./math-BRiXLSU_.js";import{l as b,m as O}from"./FooterLayout-D0PuD2DU.js";import{a as X}from"./laravelBlade-DnAXOTAM.js";import{c as w}from"./x-DfbfF6hQ.js";import{I as Z}from"./InertiaPagiantion-ZfnNcLcK.js";/* empty css            */import"./ApplicationLogo-CG8BTnY1.js";import"./index-BKNjMPK8.js";import"./index-C75zqOhl.js";import"./tslib.es6-D5k8Tp1K.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=w("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=w("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Q=l=>{const t=b(a=>a.productReducer.keys),r=b(a=>a.productReducer.listIds),d=O(),{delete:h}=I(),[m,e]=f.useState(!1);f.useEffect(()=>{N(l)},[]);const u=a=>{h(route("admin.products.destroy",a),{onStart:()=>e(!0),onSuccess:()=>y(a),onFinish:()=>e(!1)})},x=async(a,C)=>{var j;const v=C?"Published":"Draft";try{const k=(j=(await T({method:"patch",url:route("admin.products.update.status",a.id),data:{status:v}})).data)==null?void 0:j.data;d(S(k))}catch(p){console.error(p)}},N=a=>{d(L(a))},y=a=>{d(A(a))};return{list:r.map(a=>t[a]),isLoading:m,handleChangeStatus:x,handleDelete:u}},V=l=>{const{list:t}=l,{isLoading:r,list:d,handleChangeStatus:h,handleDelete:m}=Q(t);return s.jsx(_,{isLoading:r,children:s.jsxs(E,{children:[s.jsx(q,{children:s.jsxs(g,{children:[s.jsx(i,{className:"w-[60px]",children:"ID"}),s.jsx(i,{className:"w-[80px]",children:"Image"}),s.jsx(i,{className:"w-[120px]",children:"SKU"}),s.jsx(i,{children:"Name"}),s.jsx(i,{className:"w-[120px]",children:"Price"}),s.jsx(i,{className:"w-[60px]",children:"Publish"}),s.jsx(i,{className:"w-[120px]",children:"Actions"})]})}),s.jsx(U,{children:d.map(e=>{const u=(e.img_url||"").includes("http")?e.img_url:X(`storage/${e.img_url}`);return s.jsxs(g,{children:[s.jsx(c,{children:e.id}),s.jsx(c,{children:s.jsx(n,{href:route("products.slug.show",e.slug),children:s.jsx($,{className:"object-cover",src:u,alt:e.name,width:60,height:60})})}),s.jsx(c,{children:e.sku}),s.jsx(c,{children:s.jsx(n,{className:"underline",href:route("admin.products.show",e.id),children:e.name})}),s.jsx(c,{className:"text-red-600 font-bold",children:K(e.price)}),s.jsx(c,{children:s.jsx(W,{checked:e.status==="Published",onCheckedChange:x=>h(e,x)})}),s.jsx(c,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(n,{href:route("admin.products.edit",e.id),children:s.jsx(o,{size:"sm",children:s.jsx(J,{className:"w-4 h-4"})})}),s.jsx(Y,{loading:r,title:"Delete Product",description:"Are you sure you want to delete this product?",customOkButton:s.jsxs(o,{variant:"destructive",onClick:()=>m(e.id),children:[r?s.jsx(F,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(P,{className:"h-4 w-4 mr-2"}),"Delete"]}),renderButton:()=>s.jsx(o,{size:"sm",variant:"destructive",children:s.jsx(P,{className:"h-4 w-4"})})})]})})]},e.id)})})]})})},ss=V;function gs({auth:l,products:t}){const r=[{key:1,title:"Home",href:route("home")},{key:2,title:"Products",href:route("admin.products.index"),isLast:!0}];return s.jsxs(B,{breadcrumbs:r,children:[s.jsx(D,{title:"Product List"}),s.jsx("div",{className:"pb-12",children:s.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:s.jsxs(M,{className:"my-4",children:[s.jsx(H,{children:s.jsxs(R,{children:["Product List",s.jsx("div",{className:"float-right",children:s.jsx(n,{href:route("admin.products.create"),children:s.jsxs(o,{size:"sm",children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Create"]})})})]})}),s.jsxs(z,{children:[s.jsx(Z,{url:route("admin.products.index"),paginateData:t,defaultPage:t.current_page}),s.jsx(ss,{list:t.data||[]})]})]})})})]})}export{gs as default};
