import{W as b,r as f,aD as C,a6 as I,aE as T,aF as v,j as e,Y as A}from"./app-BuAjSH8i.js";import{A as D}from"./AuthenticatedLayout-DSELhlAX.js";import{C as S,a as _,b as H,c as P}from"./card-D-DXz6nr.js";import{I as R}from"./InertiaPagiantion-C-Ey8TS5.js";import{L as E,T as M,a as z,b as B,c as n,d as F,e as l,S as O,A as $,f as y}from"./switch-Dp32SCTq.js";import{I as q}from"./image-CYR5mWir.js";import{B as p,L as U}from"./index-BUy2wfzh.js";import{l as k,m as W}from"./LayoutBreadcrumb-BLvKFZBi.js";import{a as Y}from"./laravelBlade-DnAXOTAM.js";import{c as G}from"./createLucideIcon-CnwCtmzH.js";/* empty css            */import"./ApplicationLogo-DKeDfmxM.js";import"./x-pZaxt89m.js";import"./index-BKNjMPK8.js";import"./index-DJhdNeDQ.js";import"./tslib.es6-D5k8Tp1K.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=G("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),K=o=>{const t=k(a=>a.bannerReducer.keys),r=k(a=>a.bannerReducer.listIds),c=W(),{delete:d}=b(),[m,s]=f.useState(!1);f.useEffect(()=>{i(o)},[]);const h=a=>{d(route("admin.banners.destroy",a),{onStart:()=>s(!0),onSuccess:()=>u(a),onFinish:()=>s(!1)})},x=async(a,w)=>{var j;const L=w?"Published":"Draft";try{const N=(j=(await I({method:"patch",url:route("admin.banners.update.status",a.id),data:{status:L}})).data)==null?void 0:j.data;c(T(N))}catch(g){console.error(g)}},i=a=>{c(C(a))},u=a=>{c(v(a))};return{list:r.map(a=>t[a]),isLoading:m,handleChangeStatus:x,handleDelete:h}},Q=o=>{const{list:t}=o,{isLoading:r,list:c,handleChangeStatus:d,handleDelete:m}=K(t);return e.jsx(E,{isLoading:r,children:e.jsxs(M,{children:[e.jsx(z,{children:e.jsxs(B,{children:[e.jsx(n,{className:"w-[60px]",children:"ID"}),e.jsx(n,{className:"w-[80px]",children:"Image"}),e.jsx(n,{children:"Ttile"}),e.jsx(n,{className:"w-[120px]",children:"Links"}),e.jsx(n,{className:"w-[60px]",children:"Publish"}),e.jsx(n,{className:"w-[120px]",children:"Actions"})]})}),e.jsx(F,{children:c.map(s=>{const h=(s.img_url||"").includes("http")?s.img_url:Y(`storage/${s.img_url}`),x=Object.keys(s.target_links).map(i=>s.target_links[i]);return e.jsxs(B,{children:[e.jsx(l,{children:s.id}),e.jsx(l,{children:e.jsx(q,{className:"object-cover",src:h,alt:s.name,width:60,height:60})}),e.jsx(l,{children:s.title}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((i,u)=>e.jsx("a",{href:i,children:e.jsx(p,{variant:"outline",size:"icon",children:e.jsx(J,{className:"w-4 h-4"})})},u))})}),e.jsx(l,{children:e.jsx(O,{checked:s.status==="Published",onCheckedChange:i=>d(s,i)})}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx($,{loading:r,title:"Delete Banner",description:"Are you sure you want to delete this banner?",customOkButton:e.jsxs(p,{variant:"destructive",onClick:()=>m(s.id),children:[r?e.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(y,{className:"h-4 w-4 mr-2"}),"Delete"]}),renderButton:()=>e.jsx(p,{size:"sm",variant:"destructive",children:e.jsx(y,{className:"h-4 w-4"})})})})})]},s.id)})})]})})},V=Q;function pe({auth:o,banners:t}){const r=[{key:1,title:"Home",href:route("home")},{key:2,title:"Banners",isLast:!0}];return e.jsxs(D,{breadcrumbs:r,children:[e.jsx(A,{title:"Banner List"}),e.jsx("div",{className:"pb-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(S,{className:"my-4",children:[e.jsx(_,{children:e.jsx(H,{children:"Banner List"})}),e.jsxs(P,{children:[e.jsx(R,{url:route("admin.products.index"),paginateData:t,defaultPage:t.current_page}),e.jsx(V,{list:t.data||[]})]})]})})})]})}export{pe as default};
