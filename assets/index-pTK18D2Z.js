const $=t=>typeof t=="object"&&t!=null&&t.nodeType===1,tt=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",G=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const i=getComputedStyle(t,null);return tt(i.overflowY,e)||tt(i.overflowX,e)||(a=>{const l=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(a);return!!l&&(l.clientHeight<a.scrollHeight||l.clientWidth<a.scrollWidth)})(t)}return!1},L=(t,e,i,a,l,o,h,r)=>o<t&&h>e||o>t&&h<e?0:o<=t&&r<=i||h>=e&&r>=i?o-t-a:h>e&&r<i||o<t&&r>i?h-e+l:0,lt=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},et=(t,e)=>{var i,a,l,o;if(typeof document>"u")return[];const{scrollMode:h,block:r,inline:f,boundary:j,skipOverflowHiddenElements:ot}=e,nt=typeof j=="function"?j:g=>g!==j;if(!$(t))throw new TypeError("Invalid target");const J=document.scrollingElement||document.documentElement,M=[];let s=t;for(;$(s)&&nt(s);){if(s=lt(s),s===J){M.push(s);break}s!=null&&s===document.body&&G(s)&&!G(document.documentElement)||s!=null&&G(s,ot)&&M.push(s)}const m=(a=(i=window.visualViewport)==null?void 0:i.width)!=null?a:innerWidth,b=(o=(l=window.visualViewport)==null?void 0:l.height)!=null?o:innerHeight,{scrollX:w,scrollY:W}=window,{height:y,width:v,top:H,right:D,bottom:O,left:F}=t.getBoundingClientRect(),{top:K,right:P,bottom:Q,left:U}=(g=>{const n=window.getComputedStyle(g);return{top:parseFloat(n.scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0}})(t);let c=r==="start"||r==="nearest"?H-K:r==="end"?O+Q:H+y/2-K+Q,d=f==="center"?F+v/2-U+P:f==="end"?D+P:F-U;const X=[];for(let g=0;g<M.length;g++){const n=M[g],{height:C,width:E,top:R,right:Y,bottom:q,left:T}=n.getBoundingClientRect();if(h==="if-needed"&&H>=0&&F>=0&&O<=b&&D<=m&&H>=R&&O<=q&&F>=T&&D<=Y)return X;const k=getComputedStyle(n),B=parseInt(k.borderLeftWidth,10),x=parseInt(k.borderTopWidth,10),I=parseInt(k.borderRightWidth,10),N=parseInt(k.borderBottomWidth,10);let u=0,p=0;const S="offsetWidth"in n?n.offsetWidth-n.clientWidth-B-I:0,V="offsetHeight"in n?n.offsetHeight-n.clientHeight-x-N:0,z="offsetWidth"in n?n.offsetWidth===0?0:E/n.offsetWidth:0,A="offsetHeight"in n?n.offsetHeight===0?0:C/n.offsetHeight:0;if(J===n)u=r==="start"?c:r==="end"?c-b:r==="nearest"?L(W,W+b,b,x,N,W+c,W+c+y,y):c-b/2,p=f==="start"?d:f==="center"?d-m/2:f==="end"?d-m:L(w,w+m,m,B,I,w+d,w+d+v,v),u=Math.max(0,u+W),p=Math.max(0,p+w);else{u=r==="start"?c-R-x:r==="end"?c-q+N+V:r==="nearest"?L(R,q,C,x,N+V,c,c+y,y):c-(R+C/2)+V/2,p=f==="start"?d-T-B:f==="center"?d-(T+E/2)+S/2:f==="end"?d-Y+I+S:L(T,Y,E,B,I+S,d,d+v,v);const{scrollLeft:Z,scrollTop:_}=n;u=A===0?0:Math.max(0,Math.min(_+u/A,n.scrollHeight-C/A+V)),p=z===0?0:Math.max(0,Math.min(Z+p/z,n.scrollWidth-E/z+S)),c+=_-u,d+=Z-p}X.push({el:n,top:u,left:p})}return X},rt=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function it(t,e){if(!t.isConnected||!(l=>{let o=l;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const i=(l=>{const o=window.getComputedStyle(l);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((l=>typeof l=="object"&&typeof l.behavior=="function")(e))return e.behavior(et(t,e));const a=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:l,top:o,left:h}of et(t,rt(e))){const r=o-i.top+i.bottom,f=h-i.left+i.right;l.scroll({top:r,left:f,behavior:a})}}export{it as e};
